(this.webpackJsonpmuvie=this.webpackJsonpmuvie||[]).push([[0],{32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(9),r=a.n(c),i=(a(32),a(33),a(34),a(5)),o=a(26),l=a(16),u=a(8),d=a.n(u),j=a(15),m=a(27),b=a.n(m),h=a(7),v=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var s,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="d7a3a18bf1f75a32e20a4c21012ba47b",n=t?"https://api.themoviedb.org/3/search/movie?api_key=".concat(s,"&language=en-US&page=").concat(a,"&include_adult=false&query=").concat(t):"https://api.themoviedb.org/3/movie/popular?api_key=".concat(s,"&language=en-US&page=").concat(a),e.next=4,b.a.get(n);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=Object(h.b)("movies/getMovies",function(){var e=Object(j.a)(d.a.mark((function e(t){var a,s,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,s=t.page,n=void 0===s?1:s,e.next=3,v(a,n);case 3:return c=e.sent,e.abrupt("return",{results:c.data.results,page:c.data.page,totalPages:c.data.total_pages,query:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(h.c)({name:"movies",initialState:{status:"idle",results:[],query:"",page:1,totalPages:1},reducers:{setQuery:function(e,t){e.query=t.payload},clearMovieResults:function(e,t){e.query="",e.results=[]}},extraReducers:function(e){e.addCase(p.pending,(function(e){e.status="loading"})).addCase(p.fulfilled,(function(e,t){var a=t.payload,s=a.results,n=a.page,c=a.totalPages,r=a.query;e.status="idle",e.results=n>1?[].concat(Object(l.a)(e.results),Object(l.a)(s)):s,e.page=n,e.query=r,e.totalPages=c}))}}),f=g.actions.setQuery,O=g.reducer,x=a(4),y=(a(60),a(1)),w=function(e){var t=e.marked,a=e.starId;return Object(y.jsx)("span",{"data-star-id":a,className:"star",children:t?"\u2605":"\u2606"})},N=function(e){var t=e.value,a=Object(s.useState)(parseInt(t)||0),n=Object(x.a)(a,2),c=n[0],r=(n[1],Object(s.useState)(0)),i=Object(x.a)(r,2),o=i[0];i[1];return Object(y.jsx)("div",{className:"star-rating",children:Array.from({length:5},(function(e,t){return Object(y.jsx)(w,{starId:t+1,marked:o?o>=t+1:c>=t+1},"star_".concat(t+1))}))})},k=function(e,t,a,s,n){var c=(a-t)/(n-s);return Math.floor(c*(e-s))||0},q=320,S=480,_=1024,M=1300,T=1600,E=(a(62),function(e){var t=e.entry,a=n.a.useState(window.innerWidth),c=Object(x.a)(a,2),r=c[0],i=c[1],o=Object(s.useState)(!1),l=Object(x.a)(o,2),u=l[0],d=l[1],j=Object(s.useState)(100),m=Object(x.a)(j,2),b=m[0],h=m[1],v=t.original_title,p=void 0===v?"":v,g=t.poster_path,f=void 0===g?"":g,O=t.overview,w=void 0===O?"":O,E=t.release_date,F=t.vote_average,P=void 0===F?5:F,I=t.vote_count,C=void 0===I?0:I,D=function(){i(window.innerWidth)};Object(s.useEffect)((function(){window.addEventListener("resize",D,!1)}),[]),Object(s.useEffect)((function(){var e,t,a,s,n;r>=S&&r<=_?(t=30,a=220,s=S,n=_):r>_&&r<M?(t=40,a=100,s=_,n=M):r>=T?e=60:r<=q?e=30:(t=10,a=50,s=0,n=480),e||(e=t+k(r,t,a,s,n)),h(e)}),[r]);var R,L,W=E?new Date(E).getFullYear():"",U=u?"Read Less":"Read More",z="description";return w.length>b&&u&&(z+=" expanded"),R=w?Object(y.jsx)(y.Fragment,{children:!u&&w.length>b?w.substring(0,b)+"... ":w}):Object(y.jsx)("em",{children:"No description available"}),Object(y.jsxs)("div",{className:"movie-card",children:[Object(y.jsx)("div",{className:"movie-img",children:Object(y.jsx)("a",{href:"https://www.themoviedb.org/movie/".concat(t.id),alt:"".concat(p," - The Movie Database"),children:Object(y.jsx)("img",{src:(L=f,L?r>q?"https://image.tmdb.org/t/p/w400".concat(L):"https://image.tmdb.org/t/p/w200".concat(L):"https://via.placeholder.com/300x400/000000/FFFFFF/?text=No+Poster+Image+Found"),alt:"Poster for ".concat(p),loading:"lazy",target:"_blank"})})}),Object(y.jsxs)("div",{className:"movie-details",children:[Object(y.jsx)("h3",{className:"title",children:Object(y.jsx)("a",{href:"https://www.themoviedb.org/movie/".concat(t.id),target:"_blank",alt:"".concat(p," - The Movie Database"),children:p})}),Object(y.jsx)("div",{children:W}),Object(y.jsx)("p",{className:z,children:Object(y.jsx)("span",{children:R})}),w.length>b&&Object(y.jsxs)("a",{className:"read-more-link",onClick:function(){d(!u)},alt:"Expand",children:[" ",Object(y.jsx)("span",{children:U})]}),Object(y.jsxs)("div",{className:"ratings",children:[Object(y.jsx)(N,{value:P/2}),C?Object(y.jsxs)("span",{className:"ratings-count",children:[C," ratings"]}):Object(y.jsx)("span",{className:"ratings-count",children:"No ratings"})]})]})]})}),F=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){var t=e.movies;return{results:t.results,query:t.query,page:t.page,totalPages:t.totalPages,status:t.status}})),a=t.results,s=t.query,n=t.page,c=t.totalPages,r=t.status,l=a&&a.length&&1===a.length?"result":"results";return s&&a&&!a.length&&"loading"!==r?Object(y.jsxs)("div",{id:"movie-section",className:"movie-section empty",children:[Object(y.jsx)("img",{src:"/popcorn.svg"}),Object(y.jsx)("div",{children:"Hmm, I can't seem to find anything with that search term."})]}):a&&!a.length?Object(y.jsxs)("div",{id:"movie-section",className:"movie-section empty",children:[Object(y.jsx)("img",{src:"/popcorn.svg"}),Object(y.jsx)("div",{children:'Search for your favorite movie above, like "Deadpool" or "Interstellar"!'})]}):Object(y.jsxs)("div",{id:"movie-section",className:"movie-section",children:[a&&a.length>0&&Object(y.jsxs)("p",{className:"results-msg",children:[a.length," ",l]}),Object(y.jsx)(o.a,{dataLength:a.length,hasMore:n<c,scrollThreshold:"10px",next:function(){return e(p({query:s,page:n+1}))},loader:Object(y.jsx)("div",{className:"bottom-scroll-msg",children:"Loading some good flicks..."}),endMessage:Object(y.jsx)("div",{className:"bottom-scroll-msg",children:"You reached the end!"}),children:Object(y.jsx)("div",{className:"movie-cols",children:a.map((function(e,t){return Object(y.jsx)(E,{entry:e},e.original_title)}))})})]})},P=void 0,I=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];clearTimeout(t),t=setTimeout((function(){e.apply(P,n)}),a)}},C=(a(63),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return{query:e.movies.query}})).query,a=Object(s.useRef)(I((function(t){var a=t.target.value;e(p({query:a,page:1})),a||f(a)}),800));return Object(s.useEffect)((function(){setTimeout((function(){e(p({page:1}))}),500)}),[]),Object(y.jsxs)("div",{className:"search",children:[Object(y.jsx)("div",{className:"control",children:Object(y.jsxs)("div",{className:"input-container",children:[Object(y.jsx)("input",{className:"input",type:"text",placeholder:"Search for your favorite movies",onChange:a.current}),Object(y.jsx)("i",{className:"fas fa-search"})]})}),t?Object(y.jsxs)("div",{className:"top-msg",children:['Searching for movies containing "',t,'":']}):Object(y.jsx)("div",{className:"top-msg",children:"Viewing today's popular titles:"})]})}),D=(a(64),function(){var e=Object(s.useState)(!1),t=Object(x.a)(e,2),a=t[0],n=t[1];Object(s.useEffect)((function(){window.onscroll=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?n(!0):n(!1)}}),[]);var c="scroll-to-top-btn"+(a?" show":"");return Object(y.jsxs)("div",{className:c,onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},children:[Object(y.jsx)("i",{className:"fas fa-arrow-up"}),Object(y.jsx)("div",{children:"up to top"})]})}),R=function(){return Object(y.jsxs)("div",{className:"app",children:[Object(y.jsxs)("div",{className:"titles",children:[Object(y.jsx)("h1",{className:"muvie-title",children:"MUVIE"}),Object(y.jsx)("h2",{className:"muvie-subtitle",children:"The Movie Database"})]}),Object(y.jsx)(C,{}),Object(y.jsx)(F,{}),Object(y.jsx)(D,{})]})},L=Object(h.a)({reducer:{movies:O}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(i.a,{store:L,children:Object(y.jsx)(R,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[65,1,2]]]);
//# sourceMappingURL=main.a2de6d56.chunk.js.map